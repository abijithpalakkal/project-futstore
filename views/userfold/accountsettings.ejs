

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Form</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Include Font Awesome CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="/user/css/sidebar.css" rel="stylesheet">


    <style>
        /* Add your custom CSS here */
        body {
            background-color: #f0f0f0;
        }
        .form-container {
            background: #fff;
            padding: 20px;
        }
        .form-container h2 {
            text-align: center;
        }
        .btncss{
            background-color: orange;
        }
        
    </style>
</head>
<body>
    <%-include("./partials/navbar2") %>
</nav>



    
    <%-include("./partials/profilesidebar") %>
   <!-- mainform -->
<div class="container  col-md-9">
    <div class="container-fluid">
        <div class="row  align-items-center" style="height: 100vh;">
            <div class="col-6 col-md-6 col-lg-6 col-xl-6 ">
                <h2 style="color: rgb(248, 135, 30);">Account Settings</h2>
                <h4>change userdetails</h4>
                <p style="color: green;"><%=locals?.message1%></p>
                <form onsubmit="return validateForm1('<%=data?.Password%>')"  method="post" action="/accountsettings" >
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" class="form-control" id="username" name="Username" placeholder="Your Username" value="<%=data?.Username%>">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" name="Email" placeholder="Your Email" value="<%=data?.Email%>">
                    </div>
                    <div class="form-group">
                        <label for="currentPassword">Enter Current Password</label>
                        <input type="password" class="form-control" id="currentPassword1" name="currentPassword" placeholder="Current Password" required>
                    </div>
                    <button type="submit" class="btn btncss btn-block">Save Changes</button>
                </form>
                <h4>change password</h4>
                <p style="color: green;"><%=locals.message2%></p>
                <form onsubmit="return validateForm('<%=data?.Password%>')" method="post" action="/accountsettings">
                    <div class="form-group">
                        <label for="currentPassword">Enter Current Password</label>
                        <input type="password" class="form-control" id="currentPassword" name="currentPassword" placeholder="Current Password" >
                    </div>
                    <div class="form-group">
                        <label for="newPassword">New Password</label>
                        <input type="password" minlength="8" class="form-control" id="newPassword" name="newPassword" placeholder="New Password">
                    </div>
                    <div class="form-group">
                        <label for="confirmNewPassword">Confirm New Password</label>
                        <input type="password" minlength="8" class="form-control" id="confirmNewPassword" name="confirmNewPassword" placeholder="Confirm New Password">
                    </div>
                    <button type="submit" class="btn btncss btn-block" id="submit-button">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

</div>

<script>
     const submitButton = document.getElementById("submit-button");
     const passwordInput = document.getElementById("newPassword");
        const confirmInput = document.getElementById("confirmNewPassword");
     submitButton.addEventListener("click", (e) => {
        if (passwordInput.value !== confirmInput.value) {
          
            // Continue with form submission or other actions
        
            alert("Passwords do not match. Please try again.");
            e.preventDefault(); // Prevent form submission
            return false; // Prevent further event propagation
        }
    });
   function adressindexupdate(a){
  var anchor = document.getElementById("myAnchorTag");
  anchor.setAttribute("href","/removeaddress/"+a);

   }
   function validateForm(dataPassword) {
        const currentPassword = document.getElementById("currentPassword").value;
        const newPassword = document.getElementById("newPassword").value;
        const confirmNewPassword = document.getElementById("confirmNewPassword").value;
        
        if ((currentPassword || newPassword || confirmNewPassword) &&
            (!currentPassword || !newPassword || !confirmNewPassword)) {
            alert("Please fill in all password fields if any one is filled.");
            return false; // Prevent form submission
        } else if (newPassword === dataPassword) {
            alert("Your old password cannot be your new password.");
            return false; // Prevent form submission
        }
        // Additional validation logic can be added here
        return true; // Form will submit
    }

    function validateForm1(dataPassword) {
        const currentPassword = document.getElementById("currentPassword1").value;
        console.log(currentPassword)
        console.log(dataPassword)
         if (currentPassword != dataPassword) {
            alert("wrong password");
            return false; // Prevent form submission
        }
            return true // Form will submit
        
        
       
    }

  


</script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <script src="/user/script/navbar2.js"></script>
 
</body>
</html>




